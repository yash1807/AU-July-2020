{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\YASH\\\\Desktop\\\\react\\\\react-hooks-todolist\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { useReducer, useEffect } from 'react';\n\nfunction useLocalStorageReducer(key, reducer, defaultValue) {\n  const _useReducer = useReducer(reducer, defaultValue, () => {\n    let value;\n\n    try {\n      value = JSON.parse(window.localStorage.getItem(key) || String(defaultValue));\n    } catch (e) {\n      value = defaultValue;\n    }\n\n    return value;\n  }),\n        _useReducer2 = _slicedToArray(_useReducer, 2),\n        state = _useReducer2[0],\n        dispatch = _useReducer2[1];\n\n  useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(state));\n  }, [key, state]);\n  return [state, dispatch];\n}\n\nexport default useLocalStorageReducer;","map":{"version":3,"sources":["C:/Users/YASH/Desktop/react/react-hooks-todolist/src/hooks/useLocalStorageReducer.js"],"names":["useReducer","useEffect","useLocalStorageReducer","key","reducer","defaultValue","value","JSON","parse","window","localStorage","getItem","String","e","state","dispatch","setItem","stringify"],"mappings":";AAAA,SAASA,UAAT,EAAqBC,SAArB,QAAsC,OAAtC;;AAEA,SAASC,sBAAT,CAAgCC,GAAhC,EAAqCC,OAArC,EAA8CC,YAA9C,EAA4D;AAAA,sBAChCL,UAAU,CAACI,OAAD,EAAUC,YAAV,EAAwB,MAAM;AAChE,QAAIC,KAAJ;;AACA,QAAI;AACFA,MAAAA,KAAK,GAAGC,IAAI,CAACC,KAAL,CACNC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BR,GAA5B,KAAoCS,MAAM,CAACP,YAAD,CADpC,CAAR;AAGD,KAJD,CAIE,OAAOQ,CAAP,EAAU;AACVP,MAAAA,KAAK,GAAGD,YAAR;AACD;;AACD,WAAOC,KAAP;AACD,GAVmC,CADsB;AAAA;AAAA,QACnDQ,KADmD;AAAA,QAC5CC,QAD4C;;AAa1Dd,EAAAA,SAAS,CAAC,MAAM;AACdQ,IAAAA,MAAM,CAACC,YAAP,CAAoBM,OAApB,CAA4Bb,GAA5B,EAAiCI,IAAI,CAACU,SAAL,CAAeH,KAAf,CAAjC;AACD,GAFQ,EAEN,CAACX,GAAD,EAAMW,KAAN,CAFM,CAAT;AAIA,SAAO,CAACA,KAAD,EAAQC,QAAR,CAAP;AACD;;AAED,eAAeb,sBAAf","sourcesContent":["import { useReducer, useEffect } from 'react';\r\n\r\nfunction useLocalStorageReducer(key, reducer, defaultValue) {\r\n  const [state, dispatch] = useReducer(reducer, defaultValue, () => {\r\n    let value;\r\n    try {\r\n      value = JSON.parse(\r\n        window.localStorage.getItem(key) || String(defaultValue)\r\n      );\r\n    } catch (e) {\r\n      value = defaultValue;\r\n    }\r\n    return value;\r\n  });\r\n\r\n  useEffect(() => {\r\n    window.localStorage.setItem(key, JSON.stringify(state));\r\n  }, [key, state]);\r\n\r\n  return [state, dispatch];\r\n}\r\n\r\nexport default useLocalStorageReducer;\r\n"]},"metadata":{},"sourceType":"module"}